<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/img/logodark.svg" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/perfil.css">
    <title>Capital Cash</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@800&display=swap" rel="stylesheet">
</head>
<body>
    <header class="cabecalho">
        <div><img src="/img/logodark.svg" alt="" class="cabecalhoImg"></div>
        <div class="cabecalho-div-a">
            <a href="/projetos" class="cabecalho-a">Projetos</a>
            <a href="/sobre" class="cabecalho-a">Sobre nós</a>
            <a href="/contato" class="cabecalho-a">Contato</a>
        </div>
        <div>
            <%=Usuario.nome%>
           <button class="dropdown-btn">
             <div class="bloc-top">
               <img src="/img/avatar1.svg" alt="perfil">
              </div>
              <ul class="bloc-links">
                <li>
                  <a href="/perfil">Perfil</a>
                </li>
                <li>
                  <a href="/login/sair">Sair</a>
                </li>
              </ul>
           </button>
            </div>
    </header>
    <main>
        <div class="wrapper">
          <div class="left">
            <h2>Perfil:</h2>
            <br/>
            <img class="img" src="/img/user.svg">
            <h4><%=Usuario.nome%></h4>
             
        </div>
            <div class="right">
                <form method="post" action="/perfil">
                <div class="info">
                    <h3>Informações</h3>
                    <div class="info_data">
                        <div class="data">
                            <h4>ID</h4>
                            <input type="text" name="id" value="<%=Usuario.id%>" readonly>
                         </div>
                         <div class="data">
                            <h4>Nome</h4>
                            <input type="text" name="nome" value="<%=Usuario.nome%>">
                         </div>
                         <div class="data">
                            <h4>CPF</h4>
                            <input type="text" name="cpf" value="<%=Usuario.cpf%>">
                         </div>
                         <div class="data">
                           <h4>Email</h4>
                           <input type="email" name="email" value="<%=Usuario.email%>">
                      </div>
                    </div>
                </div>
              
              <div class="projects">
                    <h3>Meus projetos</h3>
                    <div class="projects_data">
                         <div class="data">
                            
                            <% Projetos.forEach((projeto) => { %>
                              <h4><%=projeto.nome %></h4>
                            <%}) %>
                         </div>
                         <button class="botaoSalvar" type="submit">Salvar dados</button>
                    </div>
                    
                </div>
            </form>
             
            </div>
        </div>
        <br/>
        <br/>
        <br/>
        <br/>
    </main>
    <script>
      const dropdown = document.querySelector('.dropdown-btn');
      const blocTop = document.querySelector('.bloc-top');
      const allLinks = document.querySelectorAll('.bloc-links li');

      const allDropHeight = `${dropdown.scrollHeight}px`
      const blocTopHeight = `${blocTop.scrollHeight}px`
      dropdown.style.height = blocTopHeight;

      dropdown.addEventListener('click', dropAnim);

      let  toggleIndex = false;

      function dropAnim(){
        toggleIndex ?
        (
          dropdown.style.height = blocTopHeight,
          toggleIndex = false
        )
        :
        (
          dropdown.style.height = allDropHeight,
          toggleIndex = true
        )
      }
    </script>
    <%-include('rodape.ejs')%>
